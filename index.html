<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku Solver | Loading...</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-container">
            <div class="loading-logo">
                <div class="loading-icon">
                    <i class="fas fa-th"></i>
                </div>
                <h1 class="loading-title">Sudoku Solver</h1>
                <p class="loading-subtitle">Backtracking Algorithm Visualizer</p>
            </div>
            
            <div class="loading-animation">
                <div class="loading-grid">
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                </div>
                <div class="loading-progress">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="loading-text" id="loading-text">Loading...</div>
            </div>
            
            <div class="loading-footer">
                <p>Data Structures & Algorithms Project</p>
            </div>
        </div>
    </div>
    
    <!-- Main Application (Hidden Initially) -->
    <div class="main-app" id="main-app" style="display: none;">
        <!-- Main app content will be loaded here -->
    </div>

    <script>
        // Loading screen logic
        document.addEventListener('DOMContentLoaded', function() {
            const loadingScreen = document.getElementById('loading-screen');
            const mainApp = document.getElementById('main-app');
            const progressBar = document.getElementById('progress-bar');
            const loadingText = document.getElementById('loading-text');
            
            let progress = 0;
            const messages = [
                "Initializing solver...",
                "Setting up grid...",
                "Loading algorithm...",
                "Preparing UI...",
                "Almost ready..."
            ];
            
            // Simulate loading progress
            const interval = setInterval(() => {
                progress += Math.random() * 15 + 5;
                if (progress > 100) progress = 100;
                
                progressBar.style.width = progress + '%';
                
                // Update loading text
                if (progress < 20) loadingText.textContent = messages[0];
                else if (progress < 40) loadingText.textContent = messages[1];
                else if (progress < 60) loadingText.textContent = messages[2];
                else if (progress < 80) loadingText.textContent = messages[3];
                else loadingText.textContent = messages[4];
                
                // When loading is complete
                if (progress >= 100) {
                    clearInterval(interval);
                    
                    // Add fade out animation
                    loadingScreen.style.animation = 'fadeOut 0.5s ease forwards';
                    
                    // Load main app after a delay
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                        
                        // Load the main app page
                        fetch('solver.html')
                            .then(response => response.text())
                            .then(html => {
                                mainApp.innerHTML = html;
                                mainApp.style.display = 'block';
                                mainApp.style.animation = 'fadeIn 0.5s ease forwards';
                                
                                // Load the solver CSS and JS
                                const solverScript = document.createElement('script');
                                solverScript.src = 'solver.js';
                                document.body.appendChild(solverScript);
                            })
                            .catch(error => {
                                console.error('Error loading solver:', error);
                                // Fallback: redirect to solver.html
                                window.location.href = 'solver.html';
                            });
                    }, 500);
                }
            }, 200);
            
            // Skip loading screen on click (for testing)
            loadingScreen.addEventListener('click', function() {
                clearInterval(interval);
                loadingScreen.style.animation = 'fadeOut 0.3s ease forwards';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    window.location.href = 'solver.html';
                }, 300);
            });
        });
    </script>
</body>
</html>